// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model report {
  id    String @id @default(cuid())
  url   String
  title String @unique

  @@index([title])
}

model aiEval {
  model              String  @id
  url                String  @unique
  ppInput            Float
  ppOutput           Float
  termsURL           String
  ctxLength          Int
  modelSize          Int
  perplexity         Float?
  bleu               Float?
  rouge              Float?
  meteor             Float?
  outputResponseTime Float?
  maxOutput          Int
  maxInput           Int
  fileInput          Boolean
  fileOutput         Boolean

  @@index([model])
}

model iqpData {
  title       String       @id
  description String
  url         String
  pdfContents embeddings[]

  @@index([title])
}

model embeddings {
  iqpData      iqpData? @relation(fields: [iqpTitle], references: [title])
  iqpTitle String?
  id String @id @default(cuid())
  text String
  embedding Float[]
}
